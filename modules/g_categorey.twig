<head>
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Swiper JS -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    {# styling #}
    <style>
        .swiper-button-next,
        .swiper-button-prev{
            top: -66px !important;
        }
        .swiper-button-next{
            left: 100px !important;
        }
    </style>
</head>
<body>
    <section id="g_cat_{{ sectionId }}" class="g_cat" style="background-color: #fff; padding:70px 0px;" dir="ltr">
        <div class="container flex flex-col items-center justify-center">
            <div class="mb-14">
                {% include 'title.twig' with { 'component_title': settings.section_title } %}
            </div>
    
            <div class="swiper-container  {% if settings.slider_toggle == 'true' %} slider bg-white {% else %} grid grid-cols-4 gap-3 {% endif %}">
                <div class="swiper-wrapper">
                    {% for item in settings.categorys %}
                        <div class="swiper-slide category flex flex-col items-center products-item" 
                             style="max-width: 150px; {{ loop.length > 3  ? 'max-width: 200px;' : '' }}">
                            <div class="overflow-hidden rounded image-parent">
                                <a href="{{ item.cat_url }}">
                                    <img loading="lazy" class="img-fluid" src="{{ item.category_image }}" alt="img-1">
                                </a>
                            </div>
                            <a href="{{ item.cat_url }}">
                                <h3 class="mt-3 text-center font-medium text-dark text-xl">
                                    {{ item.category_name }}
                                </h3>
                            </a>    
                        </div>
                    {% endfor %}
                </div>
    
                <!-- أزرار التنقل -->
                <div class="flex">
                    <div class="swiper-button-prev text-black p-4 rounded-1 shadow-md bg-white transition">
                        <!-- أيقونة سهم اليسار -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </div>
                    <div class="swiper-button-next text-black p-4 rounded-1 shadow-md bg-white transition">
                        <!-- أيقونة سهم اليمين -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </div>
                </div>
                
            </div>
        </div>
    </section>
    
<script>
document.addEventListener('DOMContentLoaded', function () {
    var swiperElement = document.querySelector('.swiper-container.slider');

    if (swiperElement) {
        var swiper = new Swiper('.swiper-container', {
        slidesPerView: 'auto',
        spaceBetween: 10,
        freeMode: true,
        loop: false,
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        });
    
    }
});
</script>
</body>

{% schema %}
{
    "name": {
        "ar": "تصنيفات - جلامور",
        "en": "glamour - categorey"
    },
    "icon": "fal fa-user",
    "display": true,
    "settings": {
        "section_title": {
            "type": "text",
            "label": {
                "ar": "عنوان السكشن ؟",
                "en": "Section Title"
            }
        },
        "slider_toggle": {
            "type": "select",
            "label": {
                "ar": "عرض التصنيفات في صورة سلايدر",
                "en": "Display categories as slider"
            },
            "options": [
                {
                    "value": "true",
                    "label": {
                        "ar": "نعم",
                        "en": "Yes"
                    }
                },
                {
                    "value": "false",
                    "label": {
                        "ar": "لا",
                        "en": "No"
                    }
                }
            ],
            "default": "false",
            "info": {
                "ar": "اختر نعم لعرض الأقسام كـ Slider",
                "en": "Choose Yes to display categories as a slider"
            }
        },
        "categorys": {
            "type": "list",
            "label": {
                "ar": "الاقسام",
                "en": "Categories"
            },
            "settings": {
                "category_image": {
                    "type": "image",
                    "label": {
                        "ar": "صوره التصنيف",
                        "en": "Category Image"
                    }
                },
                "category_name": {
                    "type": "text",
                    "label": {
                        "ar": "اسم التصنيف",
                        "en": "Category Name"
                    }
                },
                "cat_url": {
                    "type": "url",
                    "label": {
                        "ar": "الرابط",
                        "en": "Link"
                    }
                }
            }
        }
    }
}
{% endschema %}